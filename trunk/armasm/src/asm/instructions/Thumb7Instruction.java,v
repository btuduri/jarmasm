head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2003.02.09.01.54.11;	author hans;	state Exp;
branches;
next	1.1;

1.1
date	2003.02.03.16.47.12;	author hans;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Thumb support updates
@
text
@package asm.instructions;

import java.util.BitSet;
import asm.Assembler;

public class Thumb7Instruction implements Instruction {
    protected BitSet code;

    public Thumb7Instruction(ParsedInstruction pi) {
        code = new BitSet(16);
    }

    public int getMachineCode() {
        int bits2int = 0;
        for (int i = 0; i < 16; i++)
            bits2int |= (code.get(i) ? 1 : 0) << i;
        return bits2int;
    }

    public BitSet getBitSet() {
        return code;
    }

    protected void set(int hi, int lo, int value) {
        Util.set(hi, lo, value, code);
    }
    
    protected void set(int[] bits) {
        for (int i = 0; i < bits.length; i++)
            code.set(bits[i]);
    }

    protected void set(int bit) {
        code.set(bit);
    }

    protected void clear(int bit) {
        code.clear(bit);
    }

    protected int getRegisterNumber(String opcode) throws NumberFormatException {
        return Util.getRegisterNumber(opcode);
    }

    protected int parseExpression(String expr) {
        return Assembler.parseExpression(expr);
    }

    protected void error(String msg) {
        Assembler.error(msg);
    }

    protected void warning(String msg) {
        Assembler.warning(msg);
    }

    protected int addLiteral(String l) {
        return Assembler.addLiteral(l);
    }

    protected String getLabel(String label) {
        return Assembler.getLabel(label);
    }
}
@


1.1
log
@*** empty log message ***
@
text
@d24 4
@

