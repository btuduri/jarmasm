head	1.3;
access;
symbols;
locks; strict;
comment	@# @;


1.3
date	2003.02.20.15.38.40;	author hans;	state Exp;
branches;
next	1.2;

1.2
date	2003.02.09.01.54.10;	author hans;	state Exp;
branches;
next	1.1;

1.1
date	2003.02.03.16.47.12;	author hans;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Thumb support updates
@
text
@package asm.instructions;

/* Format 3: move/compare/add/subtract immediate
 *
 * bits  value
 * 15,14 = 0
 * 13 = 1
 * 12,11 = Op, Opcode 0 = MOV, 1 = CMP, 2 = ADD, 3 = SUB
 * 10-8 = Rd Source/destination register
 * 7-0 = Immediate value
 */
public class Thumb7Format3 extends Thumb7Instruction {
    public Thumb7Format3(ParsedInstruction pi) {
        super(pi);
        java.util.Vector opcodes = pi.getOpcodes();
        set(13);
        set(10, 8, getRegisterNumber((String)opcodes.elementAt(1)));
        try {
            set(7, 0, parseExpression(((String)opcodes.elementAt(2)).substring(1)));
        } catch (Exception e) {
            error("Syntax error: expected #Offset -> " + (String)opcodes.elementAt(2));
        }
    }
}
@


1.2
log
@Thumb support updates
@
text
@d3 9
d16 7
a22 1
        error("Thumb Format 3 not implemented");
@


1.1
log
@*** empty log message ***
@
text
@d7 1
@

